# Azure VM Remaining Tabs - Quick Guide

---

## TAB 2: DISKS ğŸ’¾

### OS disk size
```
âœ“ Keep: Default (30 GiB)
```

### OS disk type
```
âœ“ Recommended: Premium SSD (Locally-redundant storage)
âœ“ Budget option: Standard SSD (Locally-redundant storage) - saves $5-10/month

Premium SSD = Faster, better performance
Standard SSD = Cheaper, still good for most apps
```

### Delete with VM
```
âœ“ Keep: Checked âœ“
   (Reason: Automatically clean up disk when deleting VM)
```

### Encryption type
```
âœ“ Keep: Default (Platform-managed key)
```

### Data disks
```
âœ“ Keep: None (no need to add data disks)
```

**Click: "Next: Networking >"**

---

## TAB 3: NETWORKING ğŸŒ (MOST IMPORTANT)

### Virtual network
```
âœ“ Keep: (new) mean-app-vm-vnet (auto-created)
```

### Subnet
```
âœ“ Keep: (new) default (10.0.0.0/24) (auto-created)
```

### Public IP
```
âœ“ Keep: (new) mean-app-vm-ip (auto-created)
âœ“ This is the IP address you'll use to access your app!
```

### NIC network security group
```
âœ“ Keep: Basic
```

### Public inbound ports
```
âœ“ Should show: Allow selected ports (from previous tab)
```

### Select inbound ports
```
âœ“ IMPORTANT: Click the dropdown
âœ“ Select ALL THREE:
   â˜‘ SSH (22)
   â˜‘ HTTP (80)     â† ADD THIS
   â˜‘ HTTPS (443)   â† ADD THIS

How to select multiple:
- Click dropdown
- Check SSH (22)
- Check HTTP (80)
- Check HTTPS (443)
- Click outside to close dropdown
```

### Delete public IP and NIC when VM is deleted
```
âœ“ Keep: Checked âœ“
```

### Enable accelerated networking
```
âœ“ Keep: Checked (if available for B2s size)
```

**Click: "Next: Management >"**

---

## TAB 4: MANAGEMENT âš™ï¸

### Azure Security Center
```
âœ“ Keep: Default settings
```

### Identity
```
âœ“ Keep: System assigned managed identity - Unchecked
   (Not needed for this deployment)
```

### Login with Microsoft Entra ID
```
âœ“ Keep: Unchecked
```

### Auto-shutdown
```
âœ“ Optional: Enable auto-shutdown
âœ“ Recommended time: 2:00 AM (your timezone)
âœ“ Notification before shutdown: Optional (add email if you want)

This saves money by shutting down VM at night!
```

### Backup
```
âœ“ Keep: Unchecked (can add later if needed)
   (Reason: Costs extra, not critical for dev/test)
```

### Guest OS updates
```
âœ“ Keep: Default settings
```

### Boot diagnostics
```
âœ“ Keep: Enabled with managed storage account (recommended)
   (Reason: Helpful for troubleshooting boot issues)
```

**Click: "Next: Monitoring >"**

---

## TAB 5: MONITORING ğŸ“Š

### Alerts
```
âœ“ Keep: Default (can configure later)
```

### Diagnostics
```
âœ“ Keep: Default settings
```

**Click: "Next: Advanced >"**

---

## TAB 6: ADVANCED ğŸ”§

### Extensions
```
âœ“ Keep: None (we'll install Docker manually)
```

### Cloud init
```
âœ“ Keep: Empty (we'll configure VM via SSH)
```

### User data
```
âœ“ Keep: Empty
```

**Click: "Next: Tags >"**

---

## TAB 7: TAGS ğŸ·ï¸

### Tags (Optional but Recommended)
```
Add these tags for organization:

Name          | Value
--------------|------------------
Project       | mean-crud-app
Environment   | production
ManagedBy     | github-actions
Application   | tutorials-crud
Owner         | shreyasgowda2004
```

**Click: "Next: Review + create >"**

---

## TAB 8: REVIEW + CREATE âœ…

### Validation
```
âœ“ Wait for "Validation passed" message (green checkmark)
```

### Review your configuration
```
Verify these critical items:

âœ“ Size: Standard_B2s
âœ“ Image: Ubuntu Server 22.04 LTS - x64 Gen2
âœ“ Username: azureuser
âœ“ Authentication: SSH public key
âœ“ Ports: 22, 80, 443 (should show all three)
âœ“ Estimated cost: ~$30-40/month
```

### Create the VM
```
âœ“ Click: "Create" button
âœ“ Wait 3-5 minutes for deployment
```

---

## ğŸ¯ AFTER DEPLOYMENT COMPLETES

### 1. Get Public IP Address
```
On the deployment success page:
âœ“ Click: "Go to resource"
âœ“ Look for: Public IP address
âœ“ Copy the IP (e.g., 20.123.45.67)
âœ“ Save it - you need this for GitHub Secrets!
```

### 2. Test SSH Connection
```bash
# On your local machine
ssh -i ~/.ssh/azure_vm_key azureuser@YOUR_VM_PUBLIC_IP

# Example:
ssh -i ~/.ssh/azure_vm_key azureuser@20.123.45.67
```

If connection successful, you'll see:
```
Welcome to Ubuntu 22.04.x LTS (GNU/Linux ...)
```

### 3. Proceed to Environment Setup
```
Once SSH works, follow:
â†’ AZURE_VM_SETUP.md â†’ Section 3 (Configure VM Environment)
```

---

## ğŸš¨ TROUBLESHOOTING

### "Validation failed" error
- Check SSH public key is pasted correctly
- Ensure Username is "azureuser"
- Verify Size (B2s) is available in your region

### "Quota exceeded" error
- Try different region (East US, West US 2)
- Try smaller size (Standard_B1s)
- Or increase quota in Azure Portal

### Cannot create resource group
- Name already exists â†’ Use different name (mean-app-rg-2)
- Permission issues â†’ Check subscription permissions

### SSH public key rejected
- Ensure you copied ENTIRE key from DEPLOYMENT_KEYS.txt
- Should start with "ssh-rsa AAAA"
- Should end with "azure-vm-deployment"
- No extra spaces or newlines

---

## ğŸ’¡ COST OPTIMIZATION TIPS

1. **Enable auto-shutdown** (saves ~50% of costs)
2. **Use Standard SSD** instead of Premium SSD (saves $5-10/month)
3. **Deallocate when not in use**:
   ```bash
   az vm deallocate --resource-group mean-app-rg --name mean-app-vm
   ```
4. **Use B-series** (burstable) instead of D-series

---

## ğŸ“ NEXT STEPS AFTER VM IS CREATED

1. âœ… Copy VM Public IP
2. âœ… Test SSH connection
3. âœ… Configure GitHub Secrets (need the IP)
4. âœ… Set up VM environment (Docker installation)
5. âœ… Deploy application

**I'll help you with each step once the VM is ready!**
